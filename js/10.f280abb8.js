(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[10],{"5bf4":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-page",[t.sponsors.length?s("div",[s("div",{staticClass:"q-pa-md"},[s("q-list",{attrs:{bordered:"",separator:""}},[s("q-item",[s("q-item-section",{staticClass:"text-bold"},[t._v("IMAGE")]),s("q-item-section",{staticClass:"text-bold"},[t._v("NAME")]),s("q-item-section",{staticClass:"text-bold"},[t._v("PRICE")]),s("q-item-section",{staticClass:"text-bold"},[t._v("DESCRIPTION")]),s("q-item-section",{staticClass:"text-bold"},[t._v("ACTION")])],1),t._l(t.sponsors,(function(e,a){return s("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:a,attrs:{clickable:""}},[s("q-item-section",[s("q-avatar",{attrs:{rounded:""}},[s("img",{attrs:{src:e.image}})])],1),s("q-item-section",[t._v(t._s(e.name))]),s("q-item-section",[t._v("$ "+t._s(e.price))]),s("q-item-section",[t._v(t._s(e.description))]),s("q-item-section",[s("div",{staticClass:"q-gutter-sm"},[s("q-btn",{attrs:{round:"",color:"primary",icon:"edit"},on:{click:function(s){return t.$refs.sponsor_edit.showDialog(e)}}}),s("q-btn",{attrs:{round:"",color:"negative",icon:"delete"},on:{click:function(s){return t.comfirmLocation(e.id,a)}}})],1)])],1)}))],2)],1),s("q-page-sticky",{attrs:{position:"bottom-right",offset:[18,18]}},[s("q-btn",{attrs:{fab:"",icon:"add",color:"primary"},on:{click:function(e){return t.$refs.sponsor_add.showDialog()}}})],1)],1):s("div",{staticClass:"flex flex-center"},[s("q-page",{staticClass:"flex flex-center"},[s("h5",{staticClass:"text-grey-6 text-bold"},[t._v("No data!")]),s("q-btn",{staticClass:"text-primary",attrs:{flat:""},on:{click:function(e){return t.$refs.sponsor_add.showDialog()}}},[t._v("Add New")])],1)],1),s("sponsor-add",{ref:"sponsor_add"}),s("sponsor-edit",{ref:"sponsor_edit"}),s("q-dialog",{model:{value:t.alert,callback:function(e){t.alert=e},expression:"alert"}},[s("q-card",[s("q-card-section",[s("div",{staticClass:"text-h6 text-negative"},[t._v("Delete comfirm!")])]),s("q-card-section",{staticClass:"q-pt-none"},[t._v("Are you sure?")]),s("q-card-actions",{attrs:{align:"right"}},[s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"No",color:"primary"}}),s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Yes",color:"negative"},on:{click:t.deleteSponsor}})],1)],1)],1)],1)},o=[],r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-dialog",{attrs:{"full-width":"",persistent:""},model:{value:t.show_dialog,callback:function(e){t.show_dialog=e},expression:"show_dialog"}},[s("q-card",[s("q-bar",[s("div",{staticClass:"text-h6"},[t._v("Add New Sponsor")]),s("q-space"),s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{dense:"",flat:"",icon:"close",color:"negative"}},[s("q-tooltip",[t._v("Close")])],1)],1),s("q-form",{staticClass:"q-gutter-md",on:{submit:t.storeSponsor,reset:t.onReset}},[s("q-card-section",{staticClass:"q-pt-none"},[s("div",{staticClass:"row q-pa-md q-gutter-sm"},[s("div",{staticClass:"col-3 q-pt-lg"},[s("q-uploader",{ref:"featuredImage",staticClass:"full-width",staticStyle:{"max-width":"300px"},attrs:{label:"Sponsor Image រូបភាពបង្ហាញ",accept:"image/*",factory:t.factoryFnThumbnail,"hide-upload-btn":"","auto-upload":""},scopedSlots:t._u([{key:"list",fn:function(e){return[s("q-list",{attrs:{separator:""}},t._l(e.files,(function(a){return s("q-item",{key:a.name},[s("q-item-section",[s("q-item-label",{staticClass:"full-width ellipsis"},[t._v(t._s(a.name))]),s("q-item-label",{attrs:{caption:""}},[t._v("Status: "+t._s(a.__status))]),s("q-item-label",{attrs:{caption:""}},[t._v(t._s(a.__sizeLabel)+" / "+t._s(a.__progressLabel))])],1),a.__img?s("q-item-section",{staticClass:"gt-xs",attrs:{thumbnail:""}},[s("img",{attrs:{src:a.__img.src}})]):t._e(),s("q-item-section",{attrs:{top:"",side:""}},[s("q-btn",{staticClass:"gt-xs",attrs:{size:"12px",flat:"",dense:"",round:"",icon:"delete"},on:{click:function(t){return e.removeFile(a)}}})],1)],1)})),1)]}}])})],1),s("div",{staticClass:"col"},[s("div",{staticClass:"row q-pa-md q-gutter-sm"},[s("div",{staticClass:"col"},[s("q-input",{attrs:{label:"Sponsor Name","lazy-rules":"",rules:[function(t){return t&&t.length>0||"Please type something"}]},model:{value:t.sponsors.name,callback:function(e){t.$set(t.sponsors,"name",e)},expression:"sponsors.name"}})],1),s("div",{staticClass:"col"},[s("q-input",{attrs:{label:"Sponsor Price","lazy-rules":"",rules:[function(t){return t&&t.length>0||"Please type something"}]},model:{value:t.sponsors.price,callback:function(e){t.$set(t.sponsors,"price",e)},expression:"sponsors.price"}})],1)]),s("div",{staticClass:"row q-pa-md q-gutter-sm"},[s("div",{staticClass:"col item-content"},[s("q-input",{attrs:{label:"Description",rows:"2",type:"textarea","lazy-rules":"",rules:[function(t){return t&&t.length>0||"Please type something"}]},model:{value:t.sponsors.description,callback:function(e){t.$set(t.sponsors,"description",e)},expression:"sponsors.description"}})],1)])])])]),s("q-card-actions",{staticClass:"bg-white text-teal",attrs:{align:"right"}},[s("q-btn",{attrs:{label:"Submit",type:"submit",color:"primary"}})],1)],1)],1)],1)},n=[];s("ac4d"),s("8a81"),s("5df3"),s("1c4c"),s("6b54"),s("ac6a"),s("cadf"),s("06db"),s("7f7f");function i(t){if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=l(t))){var e=0,s=function(){};return{s:s,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o,r=!0,n=!1;return{s:function(){a=t[Symbol.iterator]()},n:function(){var t=a.next();return r=t.done,t},e:function(t){n=!0,o=t},f:function(){try{r||null==a.return||a.return()}finally{if(n)throw o}}}}function l(t,e){if(t){if("string"===typeof t)return c(t,e);var s=Object.prototype.toString.call(t).slice(8,-1);return"Object"===s&&t.constructor&&(s=t.constructor.name),"Map"===s||"Set"===s?Array.from(s):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?c(t,e):void 0}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var s=0,a=new Array(e);s<e;s++)a[s]=t[s];return a}var p={data:function(){return{show_dialog:!1,formData:new FormData,sponsors:{name:null,price:0,description:null}}},computed:{activeUserInfo:function(){return this.$store.state.users.AppActiveUser}},created:function(){},methods:{showDialog:function(){this.show_dialog=!0},factoryFnThumbnail:function(t){var e=this;e.formData.set("image",t[0])},storeSponsor:function(){var t=this;t.formData.has("image")&&(t.formData.set("user_id",t.activeUserInfo.uid),t.formData.set("name",t.sponsors.name),t.formData.set("price",t.sponsors.price),t.formData.set("description",t.sponsors.description),t.$q.loading.show(),t.$store.dispatch("sponsors/storeSponsor",t.formData).then((function(e){t.onReset(),t.show_dialog=!1,t.$q.loading.hide()})))},onReset:function(){var t=this;t.sponsors.name=null,t.sponsors.price=0,t.sponsors.description=null,t.$refs.featuredImage.reset();var e,s=i(t.formData.keys());try{for(s.s();!(e=s.n()).done;){var a=e.value;t.formData.delete(a)}}catch(o){s.e(o)}finally{s.f()}}}},u=p,d=s("2877"),m=s("eebe"),f=s.n(m),v=s("24e8"),g=s("f09f"),h=s("d847"),b=s("2c91"),q=s("9c40"),_=s("05c0"),y=s("0378"),w=s("a370"),C=s("ee89"),S=s("1c1c"),x=s("66e5"),Q=s("4074"),D=s("0170"),I=s("27f9"),k=s("4b7e"),A=s("7f67"),$=Object(d["a"])(u,r,n,!1,null,null,null),N=$.exports;f()($,"components",{QDialog:v["a"],QCard:g["a"],QBar:h["a"],QSpace:b["a"],QBtn:q["a"],QTooltip:_["a"],QForm:y["a"],QCardSection:w["a"],QUploader:C["a"],QList:S["a"],QItem:x["a"],QItemSection:Q["a"],QItemLabel:D["a"],QInput:I["a"],QCardActions:k["a"]}),f()($,"directives",{ClosePopup:A["a"]});var P=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-dialog",{attrs:{"full-width":"",persistent:""},model:{value:t.show_dialog,callback:function(e){t.show_dialog=e},expression:"show_dialog"}},[s("q-card",[s("q-bar",[s("div",{staticClass:"text-h6"},[t._v("Update Sponsor")]),s("q-space"),s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{dense:"",flat:"",icon:"close",color:"negative"}},[s("q-tooltip",[t._v("Close")])],1)],1),s("q-form",{staticClass:"q-gutter-md",on:{submit:t.updateSponsor,reset:t.onReset}},[s("q-card-section",{staticClass:"q-pt-none"},[s("div",{staticClass:"row q-pa-md q-gutter-sm"},[s("div",{staticClass:"col-3 q-pt-lg"},[s("q-uploader",{directives:[{name:"show",rawName:"v-show",value:t.is_upload,expression:"is_upload"}],ref:"featuredImage",staticClass:"full-width",staticStyle:{"max-width":"300px"},attrs:{label:"Sponsor Image រូបភាពបង្ហាញ",accept:"image/*",factory:t.factoryFnThumbnail,"hide-upload-btn":"","auto-upload":""},scopedSlots:t._u([{key:"list",fn:function(e){return[s("q-list",{attrs:{separator:""}},t._l(e.files,(function(a){return s("q-item",{key:a.name},[s("q-item-section",[s("q-item-label",{staticClass:"full-width ellipsis"},[t._v(t._s(a.name))]),s("q-item-label",{attrs:{caption:""}},[t._v("Status: "+t._s(a.__status))]),s("q-item-label",{attrs:{caption:""}},[t._v(t._s(a.__sizeLabel)+" / "+t._s(a.__progressLabel))])],1),a.__img?s("q-item-section",{staticClass:"gt-xs",attrs:{thumbnail:""}},[s("img",{attrs:{src:a.__img.src}})]):t._e(),s("q-item-section",{attrs:{top:"",side:""}},[s("q-btn",{staticClass:"gt-xs",attrs:{size:"12px",flat:"",dense:"",round:"",icon:"delete"},on:{click:function(t){return e.removeFile(a)}}})],1)],1)})),1)]}}])}),s("q-card",{directives:[{name:"show",rawName:"v-show",value:!t.is_upload,expression:"!is_upload"}],staticClass:"my-card"},[s("q-img",{attrs:{src:t.sponsors.image,basic:""}},[s("div",{staticClass:"absolute-bottom text-h6"},[s("div",{staticClass:"row"},[s("q-btn",{attrs:{round:"",color:"primary",icon:"cloud_upload"},on:{click:function(e){t.is_upload=!t.is_upload}}})],1)])])],1)],1),s("div",{staticClass:"col"},[s("div",{staticClass:"row q-pa-md q-gutter-sm"},[s("div",{staticClass:"col"},[s("q-input",{attrs:{label:"Sponsor Name","lazy-rules":"",rules:[function(t){return t&&t.length>0||"Please type something"}]},model:{value:t.sponsors.name,callback:function(e){t.$set(t.sponsors,"name",e)},expression:"sponsors.name"}})],1),s("div",{staticClass:"col"},[s("q-input",{attrs:{label:"Sponsor Price","lazy-rules":"",rules:[function(t){return t&&t.length>0||"Please type something"}]},model:{value:t.sponsors.price,callback:function(e){t.$set(t.sponsors,"price",e)},expression:"sponsors.price"}})],1)]),s("div",{staticClass:"row q-pa-md q-gutter-sm"},[s("div",{staticClass:"col item-content"},[s("q-input",{attrs:{label:"Description",rows:"2",type:"textarea","lazy-rules":"",rules:[function(t){return t&&t.length>0||"Please type something"}]},model:{value:t.sponsors.description,callback:function(e){t.$set(t.sponsors,"description",e)},expression:"sponsors.description"}})],1)])])])]),s("q-card-actions",{staticClass:"bg-white text-teal",attrs:{align:"right"}},[s("q-btn",{attrs:{label:"Submit",type:"submit",color:"primary"}})],1)],1)],1)],1)},L=[];function U(t){if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=z(t))){var e=0,s=function(){};return{s:s,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o,r=!0,n=!1;return{s:function(){a=t[Symbol.iterator]()},n:function(){var t=a.next();return r=t.done,t},e:function(t){n=!0,o=t},f:function(){try{r||null==a.return||a.return()}finally{if(n)throw o}}}}function z(t,e){if(t){if("string"===typeof t)return E(t,e);var s=Object.prototype.toString.call(t).slice(8,-1);return"Object"===s&&t.constructor&&(s=t.constructor.name),"Map"===s||"Set"===s?Array.from(s):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?E(t,e):void 0}}function E(t,e){(null==e||e>t.length)&&(e=t.length);for(var s=0,a=new Array(e);s<e;s++)a[s]=t[s];return a}var F={data:function(){return{is_upload:!1,show_dialog:!1,formData:new FormData,sponsors:{id:null,image:null,name:null,price:0,description:null}}},computed:{activeUserInfo:function(){return this.$store.state.users.AppActiveUser}},created:function(){},methods:{showDialog:function(t){var e=this.sponsors;console.log(t),e.id=t.id,e.image=t.image,e.name=t.name,e.price=t.price,e.description=t.description,this.show_dialog=!0},factoryFnThumbnail:function(t){var e=this;e.formData.set("image",t[0])},updateSponsor:function(){var t=this;t.formData.set("user_id",t.activeUserInfo.uid),t.formData.set("id",t.sponsors.id),t.formData.set("name",t.sponsors.name),t.formData.set("price",t.sponsors.price),t.formData.set("description",t.sponsors.description),t.$q.loading.show(),t.$store.dispatch("sponsors/updateSponsor",t.formData).then((function(e){t.onReset(),t.show_dialog=!1,t.$q.loading.hide()}))},onReset:function(){var t=this;t.sponsors.name=null,t.sponsors.price=0,t.sponsors.description=null,t.$refs.featuredImage.reset();var e,s=U(t.formData.keys());try{for(s.s();!(e=s.n()).done;){var a=e.value;t.formData.delete(a)}}catch(o){s.e(o)}finally{s.f()}}}},T=F,j=s("068f"),O=Object(d["a"])(T,P,L,!1,null,null,null),R=O.exports;f()(O,"components",{QDialog:v["a"],QCard:g["a"],QBar:h["a"],QSpace:b["a"],QBtn:q["a"],QTooltip:_["a"],QForm:y["a"],QCardSection:w["a"],QUploader:C["a"],QList:S["a"],QItem:x["a"],QItemSection:Q["a"],QItemLabel:D["a"],QImg:j["a"],QInput:I["a"],QCardActions:k["a"]}),f()(O,"directives",{ClosePopup:A["a"]});var B={components:{SponsorAdd:N,SponsorEdit:R},computed:{sponsors:function(){return this.$store.state.sponsors.sponsors}},created:function(){},data:function(){return{alert:!1,deleteData:{id:null,i:null}}},methods:{deleteSponsor:function(){this.$store.dispatch("sponsors/deleteSponsor",this.deleteData)},comfirmLocation:function(t,e){this.alert=!0,this.deleteData.id=t,this.deleteData.i=e}}},M=B,J=s("9989"),G=s("cb32"),Y=s("de5e"),H=s("714f"),K=Object(d["a"])(M,a,o,!1,null,null,null);e["default"]=K.exports;f()(K,"components",{QPage:J["a"],QList:S["a"],QItem:x["a"],QItemSection:Q["a"],QAvatar:G["a"],QBtn:q["a"],QPageSticky:Y["a"],QDialog:v["a"],QCard:g["a"],QCardSection:w["a"],QCardActions:k["a"]}),f()(K,"directives",{Ripple:H["a"],ClosePopup:A["a"]})}}]);