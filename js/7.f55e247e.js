(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[7],{aa37:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",[t.blogs.length?a("div",[a("div",{staticClass:"q-pa-md"},[a("q-list",{attrs:{bordered:"",separator:""}},[a("q-item",[a("q-item-section",{staticClass:"text-bold"},[t._v("TITLE")]),a("q-item-section",{staticClass:"text-bold text-center"},[t._v("POST BY")]),a("q-item-section",{staticClass:"text-bold text-right"},[t._v("ACTION")])],1),t._l(t.blogs,(function(e,o){return a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:o,attrs:{clickable:""},on:{click:function(a){return t.$refs.blog_view.showDialog(e)}}},[a("q-item-section",[t._v(t._s(e.title))]),a("q-item-section",{staticClass:"text-center"},[t._v(t._s(e.post_by))]),a("q-item-section",[a("div",{staticClass:"q-gutter-sm text-right"},[a("q-btn",{attrs:{round:"",color:"primary",icon:"edit"},on:{click:function(a){return a.stopPropagation(),t.$refs.blog_edit.showDialog(e)}}}),a("q-btn",{attrs:{round:"",color:"negative",icon:"delete"},on:{click:function(a){return a.stopPropagation(),t.comfirmLocation(e.id,o,e.blog_gallery)}}})],1)])],1)}))],2)],1),a("q-page-sticky",{attrs:{position:"bottom-right",offset:[18,18]}},[a("q-btn",{attrs:{fab:"",icon:"add",color:"primary"},on:{click:function(e){return t.$refs.blog_add.showDialog()}}})],1)],1):a("div",[a("q-page",{staticClass:"flex flex-center"},[a("h5",{staticClass:"text-grey-6 text-bold"},[t._v("No data!")]),a("q-btn",{staticClass:"text-primary",attrs:{flat:""},on:{click:function(e){return t.$refs.blog_add.showDialog()}}},[t._v("Add New")])],1)],1),a("q-dialog",{model:{value:t.alert,callback:function(e){t.alert=e},expression:"alert"}},[a("q-card",[a("q-card-section",[a("div",{staticClass:"text-h6 text-negative"},[t._v("Delete comfirm!")])]),a("q-card-section",{staticClass:"q-pt-none"},[t._v("Are you sure?")]),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"No",color:"primary"}}),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Yes",color:"negative"},on:{click:t.deleteBlog}})],1)],1)],1),a("blog-add",{ref:"blog_add"}),a("blog-view",{ref:"blog_view"}),a("blog-edit",{ref:"blog_edit"})],1)},l=[],s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-dialog",{attrs:{"full-width":"",persistent:""},model:{value:t.show_dialog,callback:function(e){t.show_dialog=e},expression:"show_dialog"}},[a("q-card",[a("q-bar",[a("div",{staticClass:"text-h6"},[t._v("Post")]),a("q-space"),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{dense:"",flat:"",icon:"close",color:"negative"}},[a("q-tooltip",[t._v("Close")])],1)],1),a("q-form",{staticClass:"q-gutter-md",on:{submit:t.storeBlog,reset:t.onReset}},[a("q-card-section",{staticClass:"q-pt-none"},[a("div",{staticClass:"row q-pa-md q-gutter-sm"},[a("div",{staticClass:"col"},[a("div",{staticClass:"row q-pa-md q-gutter-sm"},[a("div",{staticClass:"col"},[a("q-input",{attrs:{label:"Title","lazy-rules":"",rules:[function(t){return t&&t.length>0||"Please type something"}]},model:{value:t.blogs.title,callback:function(e){t.$set(t.blogs,"title",e)},expression:"blogs.title"}})],1),a("div",{staticClass:"col"},[a("q-input",{attrs:{label:"Post by","lazy-rules":"",rules:[function(t){return t&&t.length>0||"Please type something"}]},model:{value:t.blogs.post_by,callback:function(e){t.$set(t.blogs,"post_by",e)},expression:"blogs.post_by"}})],1)]),a("div",{staticClass:"row q-pa-md q-gutter-sm"},[a("div",{staticClass:"col item-content"},[a("q-editor",{attrs:{placeholder:"Description","min-height":"5rem"},model:{value:t.blogs.description,callback:function(e){t.$set(t.blogs,"description",e)},expression:"blogs.description"}})],1)])])]),a("div",{staticClass:"row q-pa-lg q-gutter-md"},[a("div",{staticClass:"col item-content"},[a("q-uploader",{ref:"gallery",staticClass:"full-width",attrs:{multiple:"","auto-upload":"",label:"Gallery",accept:"image/*",factory:t.factoryFnGallery},scopedSlots:t._u([{key:"list",fn:function(e){return[a("q-list",{attrs:{separator:""}},t._l(e.files,(function(o){return a("q-item",{key:o.name},[a("q-item-section",[a("q-item-label",{staticClass:"full-width ellipsis"},[t._v(t._s(o.name))]),a("q-item-label",{attrs:{caption:""}},[t._v("Status: "+t._s(o.__status))]),a("q-item-label",{attrs:{caption:""}},[t._v(t._s(o.__sizeLabel)+" / "+t._s(o.__progressLabel))])],1),o.__img?a("q-item-section",{staticClass:"gt-xs",attrs:{thumbnail:""}},[a("img",{attrs:{src:o.__img.src}})]):t._e(),a("q-item-section",{attrs:{top:"",side:""}},[a("q-btn",{staticClass:"gt-xs",attrs:{size:"12px",flat:"",dense:"",round:"",icon:"delete"},on:{click:function(t){return e.removeFile(o)}}})],1)],1)})),1)]}}])})],1)])]),a("q-card-actions",{staticClass:"bg-white text-teal",attrs:{align:"right"}},[a("q-btn",{attrs:{label:"Submit",type:"submit",color:"primary"}})],1)],1)],1)],1)},i=[];a("ac4d"),a("8a81"),a("5df3"),a("1c4c"),a("7f7f"),a("6b54"),a("ac6a"),a("cadf"),a("06db");function r(t){if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=n(t))){var e=0,a=function(){};return{s:a,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l,s=!0,i=!1;return{s:function(){o=t[Symbol.iterator]()},n:function(){var t=o.next();return s=t.done,t},e:function(t){i=!0,l=t},f:function(){try{s||null==o.return||o.return()}finally{if(i)throw l}}}}function n(t,e){if(t){if("string"===typeof t)return c(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(a):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?c(t,e):void 0}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,o=new Array(e);a<e;a++)o[a]=t[a];return o}var d={data:function(){return{show_dialog:!1,blogs:{title:"",post_by:"",description:""},formData:new FormData}},methods:{showDialog:function(){this.show_dialog=!0},storeBlog:function(){var t=this;t.formData.has("galleries[]")&&(t.$q.loading.show(),t.$store.dispatch("blogs/storeBlog",t.blogs).then((function(e){t.formData.set("blog_id",e.id),t.$store.dispatch("blogs/storeBlogGallery",t.formData).then((function(e){t.onReset(),t.$q.loading.hide()}))})))},onReset:function(){var t=this,e=t.blogs;e.title="",e.post_by="",e.description="";var a,o=r(t.formData.keys());try{for(o.s();!(a=o.n()).done;){var l=a.value;t.formData.delete(l)}}catch(s){o.e(s)}finally{o.f()}t.show_dialog=!1},factoryFnGallery:function(t){var e=this;e.formData.append("galleries[]",t[0])}}},u=d,g=a("2877"),p=a("eebe"),m=a.n(p),b=a("24e8"),f=a("f09f"),h=a("d847"),_=a("2c91"),v=a("9c40"),y=a("05c0"),q=a("0378"),w=a("a370"),C=a("27f9"),x=a("d66b"),Q=a("ee89"),D=a("1c1c"),k=a("66e5"),S=a("4074"),$=a("0170"),B=a("4b7e"),I=a("7f67"),P=Object(g["a"])(u,s,i,!1,null,null,null),A=P.exports;m()(P,"components",{QDialog:b["a"],QCard:f["a"],QBar:h["a"],QSpace:_["a"],QBtn:v["a"],QTooltip:y["a"],QForm:q["a"],QCardSection:w["a"],QInput:C["a"],QEditor:x["a"],QUploader:Q["a"],QList:D["a"],QItem:k["a"],QItemSection:S["a"],QItemLabel:$["a"],QCardActions:B["a"]}),m()(P,"directives",{ClosePopup:I["a"]});var L=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-dialog",{attrs:{"full-width":""},model:{value:t.show_dialog,callback:function(e){t.show_dialog=e},expression:"show_dialog"}},[a("q-card",[a("q-bar",[a("div",{staticClass:"text-h6"},[t._v("Post")]),a("q-space"),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{dense:"",flat:"",icon:"close",color:"negative"}},[a("q-tooltip",[t._v("Close")])],1)],1),a("q-item-section",[a("div",{staticClass:"row q-pa-lg",domProps:{innerHTML:t._s(t.blog_data.description)}}),a("div",{staticClass:"q-pa-lg row items-start"},t._l(t.blog_data.blog_gallery,(function(t,e){return a("q-img",{key:e,staticStyle:{height:"140px","max-width":"150px"},attrs:{src:t.gallery,"spinner-color":"red"}})})),1)])],1)],1)},G=[],N={data:function(){return{show_dialog:!1,blog_data:[]}},methods:{showDialog:function(t){this.show_dialog=!0,this.blog_data=t}}},T=N,j=a("068f"),z=Object(g["a"])(T,L,G,!1,null,null,null),E=z.exports;m()(z,"components",{QDialog:b["a"],QCard:f["a"],QBar:h["a"],QSpace:_["a"],QBtn:v["a"],QTooltip:y["a"],QItemSection:S["a"],QImg:j["a"]}),m()(z,"directives",{ClosePopup:I["a"]});var F=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-dialog",{attrs:{"full-width":"",persistent:""},model:{value:t.show_dialog,callback:function(e){t.show_dialog=e},expression:"show_dialog"}},[a("q-card",[a("q-bar",[a("div",{staticClass:"text-h6"},[t._v("Post")]),a("q-space"),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{dense:"",flat:"",icon:"close",color:"negative"}},[a("q-tooltip",[t._v("Close")])],1)],1),a("q-form",{staticClass:"q-gutter-md",on:{submit:t.updateBlog,reset:t.onReset}},[a("q-card-section",{staticClass:"q-pt-none"},[a("div",{staticClass:"row q-pa-md q-gutter-sm"},[a("div",{staticClass:"col"},[a("div",{staticClass:"row q-pa-md q-gutter-sm"},[a("div",{staticClass:"col"},[a("q-input",{attrs:{label:"Title","lazy-rules":"",rules:[function(t){return t&&t.length>0||"Please type something"}]},model:{value:t.blogs.title,callback:function(e){t.$set(t.blogs,"title",e)},expression:"blogs.title"}})],1),a("div",{staticClass:"col"},[a("q-input",{attrs:{label:"Post by","lazy-rules":"",rules:[function(t){return t&&t.length>0||"Please type something"}]},model:{value:t.blogs.post_by,callback:function(e){t.$set(t.blogs,"post_by",e)},expression:"blogs.post_by"}})],1)]),a("div",{staticClass:"row q-pa-md q-gutter-sm"},[a("div",{staticClass:"col item-content"},[a("q-editor",{attrs:{placeholder:"Description","min-height":"5rem"},model:{value:t.blogs.description,callback:function(e){t.$set(t.blogs,"description",e)},expression:"blogs.description"}})],1)])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.is_blog_gallery,expression:"is_blog_gallery"}],staticClass:"q-gutter-sm q-pa-lg row items-start"},[t._l(t.blogs.blog_gallery,(function(e,o){return a("q-img",{key:o,staticStyle:{height:"140px","max-width":"150px"},attrs:{src:e.gallery,"spinner-color":"red"}},[a("q-icon",{staticClass:"absolute all-pointer-events",staticStyle:{top:"8px",right:"8px"},attrs:{"cursor-pointer":"",round:"",color:"red",size:"20px",name:"delete"},on:{click:function(a){return a.stopPropagation(),t.deleteBlogGallery(a,e.id,e.gallery)}}})],1)})),a("q-btn",{staticStyle:{height:"140px",width:"150px"},attrs:{size:"70px",color:"teal",icon:"cloud_upload"},on:{click:function(e){t.is_blog_gallery=!t.is_blog_gallery}}})],2),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.is_blog_gallery,expression:"!is_blog_gallery"}],staticClass:"row q-pa-lg q-gutter-md"},[a("div",{staticClass:"col item-content"},[a("q-uploader",{ref:"gallery",staticClass:"full-width",attrs:{multiple:"","auto-upload":"",label:"Gallery",accept:"image/*",factory:t.factoryFnGallery},scopedSlots:t._u([{key:"list",fn:function(e){return[a("q-list",{attrs:{separator:""}},t._l(e.files,(function(o){return a("q-item",{key:o.name},[a("q-item-section",[a("q-item-label",{staticClass:"full-width ellipsis"},[t._v(t._s(o.name))]),a("q-item-label",{attrs:{caption:""}},[t._v("Status: "+t._s(o.__status))]),a("q-item-label",{attrs:{caption:""}},[t._v(t._s(o.__sizeLabel)+" / "+t._s(o.__progressLabel))])],1),o.__img?a("q-item-section",{staticClass:"gt-xs",attrs:{thumbnail:""}},[a("img",{attrs:{src:o.__img.src}})]):t._e(),a("q-item-section",{attrs:{top:"",side:""}},[a("q-btn",{staticClass:"gt-xs",attrs:{size:"12px",flat:"",dense:"",round:"",icon:"delete"},on:{click:function(t){return e.removeFile(o)}}})],1)],1)})),1)]}}])})],1)])]),a("q-card-actions",{staticClass:"bg-white text-teal",attrs:{align:"right"}},[a("q-btn",{attrs:{label:"Submit",type:"submit",color:"primary"}})],1)],1)],1)],1)},O=[];function R(t){if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=U(t))){var e=0,a=function(){};return{s:a,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l,s=!0,i=!1;return{s:function(){o=t[Symbol.iterator]()},n:function(){var t=o.next();return s=t.done,t},e:function(t){i=!0,l=t},f:function(){try{s||null==o.return||o.return()}finally{if(i)throw l}}}}function U(t,e){if(t){if("string"===typeof t)return M(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(a):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?M(t,e):void 0}}function M(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,o=new Array(e);a<e;a++)o[a]=t[a];return o}var J={data:function(){return{show_dialog:!1,blogs:{id:"",title:"",post_by:"",description:"",blog_gallery:[]},formData:new FormData,is_blog_gallery:!0}},methods:{showDialog:function(t){var e=this.blogs;e.id=t.id,e.title=t.title,e.post_by=t.post_by,e.description=t.description,e.blog_gallery=t.blog_gallery,console.log(t),this.show_dialog=!0},updateBlog:function(){var t=this;t.$q.loading.show(),t.$store.dispatch("blogs/updateBlog",t.blogs).then((function(e){!1===t.is_blog_gallery?(t.formData.set("blog_id",t.blogs.id),t.$store.dispatch("blogs/updateBlogGallery",t.formData).then((function(e){t.onReset(),t.$q.loading.hide(),t.is_blog_gallery=!1}))):(t.onReset(),t.$q.loading.hide(),t.is_blog_gallery=!1)}))},deleteBlogGallery:function(t,e,a){console.log(t.path),t.path[2].remove(),this.$store.dispatch("blogs/deleteBlogGallery",{id:e,path:a})},onReset:function(){var t=this,e=t.blogs;e.title="",e.post_by="",e.description="";var a,o=R(t.formData.keys());try{for(o.s();!(a=o.n()).done;){var l=a.value;t.formData.delete(l)}}catch(s){o.e(s)}finally{o.f()}t.show_dialog=!1},factoryFnGallery:function(t){var e=this;e.formData.append("galleries[]",t[0])}}},Y=J,H=a("0016"),V=Object(g["a"])(Y,F,O,!1,null,null,null),K=V.exports;m()(V,"components",{QDialog:b["a"],QCard:f["a"],QBar:h["a"],QSpace:_["a"],QBtn:v["a"],QTooltip:y["a"],QForm:q["a"],QCardSection:w["a"],QInput:C["a"],QEditor:x["a"],QImg:j["a"],QIcon:H["a"],QUploader:Q["a"],QList:D["a"],QItem:k["a"],QItemSection:S["a"],QItemLabel:$["a"],QCardActions:B["a"]}),m()(V,"directives",{ClosePopup:I["a"]});var W={components:{BlogAdd:A,BlogView:E,BlogEdit:K},data:function(){return{alert:!1,deleteData:{id:null,i:null,gallery:[]}}},computed:{blogs:function(){return this.$store.state.blogs.blogs}},created:function(){console.log(this.blogs)},methods:{comfirmLocation:function(t,e,a){this.alert=!0,this.deleteData.id=t,this.deleteData.i=e,this.deleteData.gallery=a,console.log(t,e,a)},deleteBlog:function(){var t=this;t.$store.dispatch("blogs/deleteBlog",t.deleteData).then((function(e){if(1==e)for(var a=0;a<t.deleteData.gallery.length;a++)t.$store.dispatch("blogs/deleteBlogGallery",{id:t.deleteData.gallery[a].id,path:t.deleteData.gallery[a].galleries})}))}}},X=W,Z=a("9989"),tt=a("de5e"),et=a("714f"),at=Object(g["a"])(X,o,l,!1,null,null,null);e["default"]=at.exports;m()(at,"components",{QPage:Z["a"],QList:D["a"],QItem:k["a"],QItemSection:S["a"],QBtn:v["a"],QPageSticky:tt["a"],QDialog:b["a"],QCard:f["a"],QCardSection:w["a"],QCardActions:B["a"]}),m()(at,"directives",{Ripple:et["a"],ClosePopup:I["a"]})}}]);